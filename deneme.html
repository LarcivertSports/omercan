<!DOCTYPE html>
<html lang="tr" data-theme="dark">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>CanlÄ± TV YayÄ±nlarÄ±</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
:root {
  --accent: #00ffae;
  --glass-bg: rgba(255,255,255,0.05);
}
[data-theme="light"] {
  --accent: #0066ff;
  --glass-bg: rgba(0,0,0,0.05);
}
body {
  background: #0f172a;
  font-family: sans-serif;
  margin: 0;
  color: white;
}
[data-theme="light"] body {
  background: #f3f4f6;
  color: #111;
}
.channel-card {transition: transform .2s;}
.channel-card:hover {transform: scale(1.02);}
.live-badge {
  color: var(--accent);
  font-size: 0.8em;
  font-weight: bold;
}
.small-note {font-size: 0.85em; color: #aaa;}
input, select, button {outline: none;}
</style>
</head>
<body>
<div id="app" class="p-4">
<header style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between">
  <h1 style="font-size:1.2em;font-weight:bold">ğŸ“º CanlÄ± TV YayÄ±nlarÄ±</h1>
  <div style="display:flex;gap:5px;flex-wrap:wrap">
    <input id="searchInput" placeholder="Ara..." style="padding:5px;border-radius:5px" />
    <select id="categorySelect" style="padding:5px;border-radius:5px"></select>
    <button id="showFavs" style="padding:5px;border-radius:5px;background:var(--accent);color:black">â­ Favoriler</button>
    <button id="themeToggle" style="padding:5px;border-radius:5px"><i id="themeIcon" class="fa-solid fa-moon"></i></button>
  </div>
</header>

<section style="display:grid;grid-template-columns:2fr 1fr;gap:10px;max-width:100%">
  <div id="playerCard" style="border-radius:10px;overflow:hidden;background:var(--glass-bg);padding:10px">
    <div id="playerArea" style="aspect-ratio:16/9;background:#000"></div>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-top:5px">
      <div>
        <div id="playerTitle" style="font-weight:bold"></div>
        <div id="playerMeta" class="small-note"></div>
      </div>
      <button id="playerFullscreen" title="Tam Ekran" style="padding:5px;border-radius:5px;background:rgba(255,255,255,0.1)">
        <i class="fa-solid fa-expand"></i>
      </button>
    </div>
    <div id="liveBadgeArea" style="margin-top:5px"></div>
  </div>

  <aside style="display:flex;flex-direction:column;gap:10px">
    <div style="border-radius:10px;padding:10px;background:var(--glass-bg);color:#ccc">
      <h3 style="margin-bottom:5px">Kategoriler</h3>
      <div id="categoryList" style="display:flex;flex-wrap:wrap;gap:5px"></div>
    </div>
    <div style="border-radius:10px;padding:10px;background:var(--glass-bg);color:#ccc">
      <h3 style="margin-bottom:5px">Son Ä°zlenenler</h3>
      <div id="recentList" class="small-note"></div>
    </div>
  </aside>
</section>

<main style="margin-top:10px">
  <div id="grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px"></div>
</main>
</div>

<script>
const channels = [
  { id:'bein1', name: 'beIN SPORTS 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinstar', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'bein2', name: 'beIN SPORTS 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinb2#amp=1', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'bein3', name: 'beIN SPORTS 3', stream: 'https://www.mersotv1.com/channel.html?id=yayinb3', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'bein4', name: 'beIN SPORTS 4', stream: 'https://www.mersotv1.com/channel.html?id=yayinb4', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'bein5', name: 'beIN SPORTS 5', stream: 'https://www.mersotv1.com/channel.html?id=yayinb5', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'beimax1', name: 'beIN SPORTS Max 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinbm1', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'beimax2', name: 'beIN SPORTS Max 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinbm2', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'tiv1', name: 'Tivibu Spor 1', stream: 'https://www.mersotv1.com/channel.html?id=yayint1', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'tiv2', name: 'Tivibu Spor 2', stream: 'https://www.mersotv1.com/channel.html?id=yayint2', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'tiv3', name: 'Tivibu Spor 3', stream: 'https://www.mersotv1.com/channel.html?id=yayint3', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'tiv4', name: 'Tivibu Spor 4', stream: 'https://www.mersotv1.com/channel.html?id=yayint4', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'ssport', name: 'S Sport', stream: 'https://www.mersotv1.com/channel.html?id=yayinss', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'ssport2', name: 'S Sport 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinss2', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'ssplus1', name: 'S Sport Plus 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinex2', type:'iframe', live:true, popular:true, category:'Spor' },
  { id:'ssplus2', name: 'S Sport Plus 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinex1', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'smart1', name: 'Smart Spor', stream: 'https://www.mersotv1.com/channel.html?id=yayinsmarts', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'smart2', name: 'Smart Spor 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinsms2', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'aspor', name: 'A Spor', stream: 'https://www.mersotv1.com/channel.html?id=yayinas', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'tv85', name: 'TV 8,5', stream: 'https://www.mersotv1.com/channel.html?id=yayintv85', type:'iframe', live:true, popular:false, category:'Spor' },
  { id:'trt1', name: 'TRT 1', stream: 'https://www.mersotv1.com/channel.html?id=yayintrt1', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'atv', name: 'ATV', stream: 'https://www.mersotv1.com/channel.html?id=yayinatv', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'kanald', name: 'Kanal D', stream: 'https://www.mersotv1.com/channel.html?id=yayinkd', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'show', name: 'Show TV', stream: 'https://www.mersotv1.com/channel.html?id=yayinshow', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'star', name: 'Star TV', stream: 'https://www.mersotv1.com/channel.html?id=yayinstar', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'fox', name: 'FOX TV', stream: 'https://www.mersotv1.com/channel.html?id=yayinfox', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'tv8', name: 'TV 8', stream: 'https://www.mersotv1.com/channel.html?id=yayintv8', type:'iframe', live:true, popular:true, category:'Ulusal' },
  { id:'teve2', name: 'Teve2', stream: 'https://www.mersotv1.com/channel.html?id=yayint2', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'kanal7', name: 'Kanal 7', stream: 'https://www.mersotv1.com/channel.html?id=yayink7', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trtbelgesel', name: 'TRT Belgesel', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtbelgesel', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trtcocuk', name: 'TRT Ã‡ocuk', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtcocuk', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trt2', name: 'TRT 2', stream: 'https://www.mersotv1.com/channel.html?id=yayintrt2', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trtmuzik', name: 'TRT MÃ¼zik', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtmuzik', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trtturk', name: 'TRT TÃ¼rk', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtturk', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'trtarabi', name: 'TRT Arabi', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtarabi', type:'iframe', live:true, popular:false, category:'Ulusal' },
  { id:'haberturk', name: 'HABERTÃœRK', stream: 'https://www.mersotv1.com/channel.html?id=yayinhaberturk', type:'iframe', live:true, popular:true, category:'Haber' },
  { id:'ntv', name: 'NTV', stream: 'https://www.mersotv1.com/channel.html?id=yayinntv', type:'iframe', live:true, popular:true, category:'Haber' },
  { id:'cnnturk', name: 'CNN TÃœRK', stream: 'https://www.mersotv1.com/channel.html?id=yayincnn', type:'iframe', live:true, popular:true, category:'Haber' },
  { id:'ahaber', name: 'A HABER', stream: 'https://www.mersotv1.com/channel.html?id=yayintahaber', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'tvnet', name: 'TV NET', stream: 'https://www.mersotv1.com/channel.html?id=yayintvnet', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'ulketv', name: 'ÃœLKE TV', stream: 'https://www.mersotv1.com/channel.html?id=yayinulke', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'24tv', name: '24 TV', stream: 'https://www.mersotv1.com/channel.html?id=yayin24', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'haber24', name: 'Haber 24', stream: 'https://www.mersotv1.com/channel.html?id=yayinh24', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'benguturk', name: 'BengÃ¼ TÃ¼rk', stream: 'https://www.mersotv1.com/channel.html?id=yayinbenguturk', type:'iframe', live:true, popular:false, category:'Haber' },
  { id:'trthaber', name: 'TRT Haber', stream: 'https://www.mersotv1.com/channel.html?id=yayintrthaber', type:'iframe', live:true, popular:true, category:'Haber' }
];
let favorites = JSON.parse(localStorage.getItem("favorites") || "[]");
let recent = JSON.parse(localStorage.getItem("recent") || "[]");

function fillCategories() {
  const cats = ["TÃ¼mÃ¼", ...new Set(channels.map(c => c.category))];
  const select = document.getElementById("categorySelect");
  select.innerHTML = cats.map(c => `<option>${c}</option>`).join("");
  document.getElementById("categoryList").innerHTML = cats.map(c =>
    `<button onclick="filterCategory('${c}')" style="padding:5px;border-radius:5px;background:rgba(255,255,255,0.1)">${c}</button>`
  ).join("");
}

function renderGrid(list) {
  const grid = document.getElementById("grid");
  grid.innerHTML = list.map(c => `
    <div class="channel-card" style="padding:10px;border-radius:10px;background:var(--glass-bg);cursor:pointer" onclick="playChannel('${c.id}')">
      <div style="font-weight:bold">${c.name}</div>
      <div style="display:flex;justify-content:space-between;align-items:center;margin-top:5px">
        ${c.live ? `<span class="live-badge">LIVE</span>` : ""}
        <button onclick="toggleFav(event, '${c.id}')">${favorites.includes(c.id) ? "â­" : "â˜†"}</button>
      </div>
    </div>
  `).join("");
}

function playChannel(id) {
  const ch = channels.find(c => c.id === id);
  if (!ch) return;
  document.getElementById("playerTitle").textContent = ch.name;
  document.getElementById("playerMeta").textContent = ch.category;
  document.getElementById("liveBadgeArea").innerHTML = ch.live ? `<span class="live-badge">CANLI</span>` : "";
  document.getElementById("playerArea").innerHTML = `<iframe src="${ch.stream}" width="100%" height="100%" frameborder="0" allowfullscreen></iframe>`;

  // Son izlenenler listesi
  recent = [id, ...recent.filter(r => r !== id)].slice(0, 5);
  localStorage.setItem("recent", JSON.stringify(recent));
  renderRecent();
}

function toggleFav(e, id) {
  e.stopPropagation();
  if (favorites.includes(id)) {
    favorites = favorites.filter(f => f !== id);
  } else {
    favorites.push(id);
  }
  localStorage.setItem("favorites", JSON.stringify(favorites));
  renderGrid(filteredList());
}

function renderRecent() {
  const area = document.getElementById("recentList");
  area.innerHTML = recent.map(id => {
    const ch = channels.find(c => c.id === id);
    return ch ? `<div onclick="playChannel('${id}')" style="cursor:pointer">${ch.name}</div>` : "";
  }).join("");
}

function filteredList() {
  const term = document.getElementById("searchInput").value.toLowerCase();
  const cat = document.getElementById("categorySelect").value;
  return channels.filter(c => 
    (cat === "TÃ¼mÃ¼" || c.category === cat) &&
    c.name.toLowerCase().includes(term)
  );
}

function filterCategory(cat) {
  document.getElementById("categorySelect").value = cat;
  renderGrid(filteredList());
}

document.getElementById("themeToggle").onclick = () => {
  const html = document.documentElement;
  const isDark = html.getAttribute("data-theme") === "dark";
  html.setAttribute("data-theme", isDark ? "light" : "dark");
  document.getElementById("themeIcon").className = isDark ? "fa-solid fa-sun" : "fa-solid fa-moon";
};

document.getElementById("searchInput").oninput = () => renderGrid(filteredList());
document.getElementById("categorySelect").onchange = () => renderGrid(filteredList());
document.getElementById("showFavs").onclick = () => {
  const favList = channels.filter(c => favorites.includes(c.id));
  renderGrid(favList);
};

// BaÅŸlangÄ±Ã§ yÃ¼kleme
fillCategories();
renderGrid(channels);
renderRecent();
</script>
</body>
</html>
