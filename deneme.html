<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ömercan Yayın Portalı — Yeni</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    :root{
      --glass-bg: rgba(255,255,255,0.04);
      --accent: #06b6d4;
    }
    [data-theme="light"]{
      --glass-bg: rgba(255,255,255,0.7);
      --accent: #0ea5e9;
    }
    .live-badge{
      background: linear-gradient(90deg,#ef4444,#f97316);
      color:white;
      font-weight:700;
      font-size:11px;
      padding:3px 6px;
      border-radius:999px;
      display:inline-flex;
      gap:6px;
      align-items:center;
    }
    .channel-card {
      transition: transform .18s, box-shadow .18s;
    }
    .channel-card:hover{
      transform: translateY(-6px) scale(1.02);
      box-shadow: 0 12px 40px rgba(2,6,23,0.6);
    }
  </style>
</head>
<body class="antialiased bg-gradient-to-b from-slate-900 to-slate-800 min-h-screen" data-theme="dark">
  <div class="max-w-6xl mx-auto px-4 py-8">

    <header class="flex items-center justify-between gap-4 mb-6">
      <div>
        <h1 class="text-3xl md:text-4xl font-extrabold text-white">Ömercan Yayın Portalı</h1>
        <p class="text-slate-300 mt-1">Favori kanallarını ekle, filtrele, hızlıca izle.</p>
      </div>
      <button id="themeToggle" title="Tema değiştir" class="p-2 rounded-md bg-[var(--glass-bg)]">
        <i id="themeIcon" class="fa-solid fa-moon text-slate-200"></i>
      </button>
    </header>

    <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
      <div class="lg:col-span-2 space-y-3">
        <div id="playerCard" class="rounded-xl overflow-hidden bg-[var(--glass-bg)] p-3">
          <div class="flex items-center justify-between mb-2">
            <div>
              <div id="playerTitle" class="text-white font-semibold">Kanal seçilmedi</div>
              <div id="playerMeta" class="text-slate-300 text-sm">Hazır</div>
            </div>
            <button id="playerFullscreen" class="p-2 rounded-md text-slate-200 hover:bg-white/5">
              <i class="fa-solid fa-expand"></i>
            </button>
          </div>
          <div id="playerArea" class="w-full bg-black rounded-md overflow-hidden aspect-video flex items-center justify-center">
            <img src="https://placehold.co/1280x720/000000/FFFFFF?text=Kanal+Seçin" alt="placeholder">
          </div>
          <div id="liveBadgeArea" class="mt-3"></div>
        </div>
        <div class="flex items-center gap-3">
          <input id="searchInput" type="search" placeholder="Kanal ara..." class="flex-1 rounded-full px-4 py-2 bg-[var(--glass-bg)] text-slate-200 focus:ring-2 focus:ring-[var(--accent)] outline-none" />
          <select id="categorySelect" class="rounded-full px-3 py-2 bg-[var(--glass-bg)] text-slate-200"></select>
        </div>
      </div>
      <aside class="space-y-4">
        <div class="rounded-xl p-4 bg-[var(--glass-bg)] text-slate-200">
          <h3 class="font-semibold mb-2">Kategoriler</h3>
          <div id="categoryList" class="flex flex-wrap gap-2"></div>
        </div>
      </aside>
    </section>

    <main>
      <div id="grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"></div>
    </main>

  </div>

  <script>
    const channels = [
      { name: 'beIN SPORTS 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinstar', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'beIN SPORTS 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinb2#amp=1', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'beIN SPORTS 3', stream: 'https://www.mersotv1.com/channel.html?id=yayinb3', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'beIN SPORTS 4', stream: 'https://www.mersotv1.com/channel.html?id=yayinb4', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'beIN SPORTS 5', stream: 'https://www.mersotv1.com/channel.html?id=yayinb5', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'beIN SPORTS Max 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinbm1', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'beIN SPORTS Max 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinbm2', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'Tivibu Spor 1', stream: 'https://www.mersotv1.com/channel.html?id=yayint1', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'Tivibu Spor 2', stream: 'https://www.mersotv1.com/channel.html?id=yayint2', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'Tivibu Spor 3', stream: 'https://www.mersotv1.com/channel.html?id=yayint3', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'Tivibu Spor 4', stream: 'https://www.mersotv1.com/channel.html?id=yayint4', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'S Sport', stream: 'https://www.mersotv1.com/channel.html?id=yayinss', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'S Sport 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinss2', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'S Sport Plus 1', stream: 'https://www.mersotv1.com/channel.html?id=yayinex2', type: 'iframe', live: true, popular: true, category: 'Spor' },
      { name: 'S Sport Plus 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinex1', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'Smart Spor', stream: 'https://www.mersotv1.com/channel.html?id=yayinsmarts', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'Smart Spor 2', stream: 'https://www.mersotv1.com/channel.html?id=yayinsms2', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'A Spor', stream: 'https://www.mersotv1.com/channel.html?id=yayinas', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'TV 8,5', stream: 'https://www.mersotv1.com/channel.html?id=yayintv85', type: 'iframe', live: true, popular: false, category: 'Ulusal' },
      { name: 'TV 8', stream: 'https://www.mersotv1.com/channel.html?id=yayintv8', type: 'iframe', live: true, popular: false, category: 'Ulusal' },
      { name: 'TRT1', stream: 'https://www.mersotv1.com/channel.html?id=yayintrt1', type: 'iframe', live: true, popular: false, category: 'Ulusal' },
      { name: 'TRT SPOR', stream: 'https://www.mersotv1.com/channel.html?id=yayintrtspor', type: 'iframe', live: true, popular: false, category: 'Spor' },
      { name: 'TRT SPOR YILDIZ', stream: 'https://tv-trtspor2.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii TV', stream: 'https://ceokzokgtd.erbvr.com/tabiitv/tabiitv_1080p.m3u8?sid=Xr8N4zzNzkm4VwzL77qvNg', type: 'hls', live: true, popular: false, category: 'Diğer' },
      { name: 'TABİİ SPOR 1', stream: 'https://iaqzu4szhtzeqd0edpsayinle.medya.trt.com.tr/master_720p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR 2', stream: 'https://klublsslubcgyiz7zqt5bz8il.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR 3', stream: 'https://uJnF69oP16X2fiIyWxCNx41Q8.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'TABİİ SPOR 4', stream: 'https://bfxy3jgeydpbphtk8qfqwm3hr.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR 5', stream: 'https://z3mmimwz148csv0vaxtphqspf.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR 6', stream: 'https://vbtob9hyq58eiophct5qctxr2.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR 7', stream: 'https://rxnE77JupTdEYKE3TytvGQWYh.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'Tabii SPOR', stream: 'https://beert7sqimrk0bfdupfgn6qew.medya.trt.com.tr/master_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' },
      { name: 'TAY TV', stream: 'https://tjktv-live.tjk.org/tjktv/tjktv_1080p.m3u8', type: 'hls', live: true, popular: false, category: 'Spor' }
    ];

    const grid = document.getElementById('grid');
    const searchInput = document.getElementById('searchInput');
    const categorySelect = document.getElementById('categorySelect');
    const categoryList = document.getElementById('categoryList');
    const playerArea = document.getElementById('playerArea');
    const playerTitle = document.getElementById('playerTitle');
    const playerMeta = document.getElementById('playerMeta');
    const liveBadgeArea = document.getElementById('liveBadgeArea');
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const playerFullscreen = document.getElementById('playerFullscreen');

    let state = { theme: localStorage.getItem('theme') || 'dark' };
    function setTheme(t){
      state.theme = t;
      document.body.setAttribute('data-theme', t);
      localStorage.setItem('theme', t);
      themeIcon.className = t === 'light' ? 'fa-solid fa-sun text-slate-800' : 'fa-solid fa-moon text-slate-200';
    }
    setTheme(state.theme);
    themeToggle.addEventListener('click', ()=> setTheme(state.theme==='light'?'dark':'light'));

    const categories = ['Tümü', ...new Set(channels.map(c=>c.category))];
    categories.forEach(cat=>{
      const opt = document.createElement('option');
      opt.value = cat;
      opt.textContent = cat;
      categorySelect.appendChild(opt);
      const btn = document.createElement('button');
      btn.textContent = cat;
      btn.className = 'px-3 py-1 rounded-full bg-white/5 text-slate-200 text-sm';
      btn.onclick = ()=> filter(cat);
      categoryList.appendChild(btn);
    });

    function renderGrid(list){
      grid.innerHTML = '';
      list.forEach(ch=>{
        const card = document.createElement('div');
        card.className = 'channel-card p-3 rounded-xl bg-[var(--glass-bg)] cursor-pointer';
        if(ch.live){
          const badge = document.createElement('div');
          badge.className = 'live-badge mb-2';
          badge.innerHTML = '<i class="fa-solid fa-circle text-[10px]"></i> CANLI';
          card.appendChild(badge);
        }
        const title = document.createElement('div');
        title.className = 'font-semibold text-white';
        title.textContent = ch.name;
        const meta = document.createElement('div');
        meta.className = 'text-xs text-slate-300';
        meta.textContent = ch.category;
        card.appendChild(title);
        card.appendChild(meta);
        card.addEventListener('click', ()=> playChannel(ch));
        grid.appendChild(card);
      });
    }

    function playChannel(ch){
      playerTitle.textContent = ch.name;
      playerMeta.textContent = ch.type.toUpperCase();
      liveBadgeArea.innerHTML = ch.live ? '<span class="live-badge"><i class="fa-solid fa-circle text-[10px]"></i> CANLI</span>' : '';
      playerArea.innerHTML = '';
      if(ch.type==='iframe'){
        const iframe = document.createElement('iframe');
        iframe.src = ch.stream;
        iframe.allowFullscreen = true;
        iframe.className = 'w-full h-full';
        playerArea.appendChild(iframe);
      } else if(ch.type==='hls'){
        const video = document.createElement('video');
        video.controls = true;
        video.autoplay = true;
        video.className = 'w-full h-full';
        playerArea.appendChild(video);
        if(Hls.isSupported()){
          const hls = new Hls();
          hls.loadSource(ch.stream);
          hls.attachMedia(video);
        } else {
          video.src = ch.stream;
        }
      }
    }

    function filter(cat){
      let val = searchInput.value.toLowerCase();
      let filtered = channels.filter(c=>{
        let matchCat = (cat==='Tümü' || c.category===cat);
        let matchSearch = c.name.toLowerCase().includes(val);
        return matchCat && matchSearch;
      });
      renderGrid(filtered);
    }

    searchInput.addEventListener('input', ()=> filter(categorySelect.value));
    categorySelect.addEventListener('change', ()=> filter(categorySelect.value));
    playerFullscreen.addEventListener('click', ()=>{
      document.getElementById('playerCard').requestFullscreen();
    });

    renderGrid(channels);
  </script>
</body>
</html>
